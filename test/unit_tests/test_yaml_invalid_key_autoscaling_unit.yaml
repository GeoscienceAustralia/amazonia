#
# Test Stack Yaml for Amazonia
#

stack_title: 'testStack'
autoscaling_units:
  -
    blah: 'should not be here'
    unit_title: 'app1'
    elb_config:
      unit_hosted_zone_name: '.test.lan'
      loadbalancer_protocol:
       - 'HTTP'
      instance_protocol:
       - 'HTTP'
      loadbalancer_ports:
       - '80'
      instance_ports:
       - '80'
      elb_health_check: 'HTTP:80/index.html'
      elb_log_bucket: 'elb_log_bucket'
    asg_config:
      image_id: 'ami-dc361ebf'
      instance_type: 't2.micro'
      minsize: '1'
      maxsize: '1'
      health_check_grace_period: '300'
      health_check_type: 'ELB'
      iam_instance_profile_arn: 'arn:aws:iam::1234567890124:role/InstanceProfile'
      sns_topic_arn: 'sns_topic_arn'
      sns_notification_types: 'sns_notification_types'
      userdata: |
        #cloud-config
        repo_update: true
        repo_upgrade: all

        packages:
         - httpd

        runcmd:
         - service httpd start
    dependencies:
     - 'app2'
     - 'db1'
