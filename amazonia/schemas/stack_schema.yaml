stack_title: # A string containing the name of the cloud formation stack.
  type: 'string'
  empty: False
  regex: '^([a-zA-Z0-9]+$)' # matches an alphanumeric title
keypair: # A string containing the Key Pair to use for ssh access to your instances.
  type: 'string'
  empty: False
code_deploy_service_role: # A string specifying a code deploy IAM role by its ARN
  type: 'string'
  nullable: True
  empty: False
availability_zones: # A list of strings, specifying each availability zone to use when creating resources.
  type: 'list'
  empty: False
  schema:
    type: 'string'
    empty: False
vpc_cidr: # A cidr block to delegate to your VPC.
  type: 'string'
  empty: False # Below regex matches a CIDR pattern eg: 10.0.0.0/16
  regex: '^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/([0-9]|[1-2][0-9]|3[0-2]))$'
public_cidr: # A dictionary containing the name and cidr block to be considered 'public' by your stack.
  type: 'dict'
  empty: False
  schema:
    name:
      type: 'string'
      empty: False
      regex: '^([a-zA-Z0-9]+$)' # matches an alphanumeric title
    cidr:
      type: 'string'
      empty: False # Below regex matches a CIDR pattern eg: 10.0.0.0/16
      regex: '^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/([0-9]|[1-2][0-9]|3[0-2]))$'
home_cidrs: # A list of dictionaries with each list element containing the name and cidr blocks to be considered 'safe' for ssh access to your stack.
  type: 'list'
  empty: False
  schema:
    type: 'dict'
    schema:
      name:
        type: 'string'
        empty: False
        regex: '^([a-zA-Z0-9]+$)' # matches an alphanumeric title
      cidr:
        type: 'string'
        empty: False # Below regex matches a CIDR pattern eg: 10.0.0.0/16
        regex: '^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/([0-9]|[1-2][0-9]|3[0-2]))$'
jump_image_id: # A string specifying which ami to use for your jump box by its id
  type: 'string'
  empty: False
  regex: '^(ami-[a-zA-Z0-9]+$)' # matches an ami number eg: ami-some1234
jump_instance_type: # A string specifying which instance type to use for your jump box.
  type: 'string'
  empty: False
nat_image_id: # A string specifying which ami to use for your NAT by its id
  type: 'string'
  empty: False
  regex: '^(ami-[a-zA-Z0-9]+$)' # matches an ami number eg: ami-some1234
nat_instance_type: # A string specifying which instance type to use for your NAT.
  type: 'string'
  empty: False
stack_hosted_zone_name: # A string containing the name of the Route 53 hosted zone name to use for creation of record sets for your stack
  type: 'string'
  nullable: True
  empty: False
iam_instance_profile_arn:  # A string specifying an instance IAM role by its ARN
  type: 'string'
  nullable: True
  empty: False
owner_emails:  # A list of email addresses to specify ownership of this stack and also send alerts to if
  type: 'list' # alerts have been set up.
  nullable: True
  schema:
    type: 'string'
    empty: False
nat_alerting: # A True/False advising whether or not to alert on the NAT instance to the owner_emails list.
  type: 'boolean'
  nullable: False
  empty: False
zd_autoscaling_units:  # A list of autoscaling groups to create. Load balancers, security groups, launch configurations, and autoscaling groups will be created for each of these units
  type: 'list'
  nullable: True
  schema:
    type: 'dict'
    allow_unknown: True
    schema:
      unit_title:  # A string containing the title of this autoscaling unit.
        type: 'string'
        regex: '^([a-zA-Z0-9]+$)' # matches an alphanumeric title
        nullable: True
      dependencies: # A list of strings with the titles of objects that this autoscaling unit depends on. eg: your autoscaling group may have userdata that needs internet access, therefore they have a dependency on your NAT.
        type: 'list'
        nullable: True
        schema:
          type: 'string'
          nullable: True
      elb_config: #nested dictionary containing elb specific configuration
        type: 'dict'
        nullable: True
        allow_unknown: True
      common_asg_config: #nested dictionary containing common asg specific configuration
        type: 'dict'
        nullable: True
        allow_unknown: True
      blue_asg_config: #nested dictionary containing blue asg specific configuration
        type: 'dict'
        nullable: True
        allow_unknown: True
      green_asg_config: #nested dictionary containing blue asg specific configuration
        type: 'dict'
        nullable: True
        allow_unknown: True
      zd_state:
        type: 'string'
        allowed:
        - 'blue'
        - 'green'
        - 'both'
autoscaling_units:  # A list of autoscaling groups to create. Load balancers, security groups, launch configurations, and autoscaling groups will be created for each of these units
  type: 'list'
  nullable: True
  schema:
    type: 'dict'
    allow_unknown: True
    schema:
      unit_title:  # A string containing the title of this autoscaling unit.
        type: 'string'
        regex: '^([a-zA-Z0-9]+$)' # matches an alphanumeric title
        nullable: True
      dependencies: # A list of strings with the titles of objects that this autoscaling unit depends on. eg: your autoscaling group may have userdata that needs internet access, therefore they have a dependency on your NAT.
        type: 'list'
        nullable: True
        schema:
          type: 'string'
          nullable: True
      elb_config: #nested dictionary containing elb specific configuration
        type: 'dict'
        nullable: True
        allow_unknown: True
      asg_config: #nested dictionary containing asg specific configuration
        type: 'dict'
        nullable: True
        allow_unknown: True
database_units: # A list of database units to create. Security groups, Database Subnet Groups, and RDS instances will be created for each of these units
  nullable: True
  type: 'list'
  schema:
    type: 'dict'
    schema:
      unit_title:  # A string containing the title of this autoscaling unit.
        type: 'string'
        regex: '^([a-zA-Z0-9]+$)' # matches an alphanumeric title
        nullable: True
      database_config: #nested dictionary containing database specific configuration
        type: 'dict'
        nullable: True
        allow_unknown: True